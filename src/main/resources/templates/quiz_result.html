<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <title>Result</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <style>
      body {
        background: linear-gradient(135deg, #d9e8ff, #eef4ff, #ffffff);
        animation: bgMove 7s ease infinite;
        background-size: 300% 300%;
        font-family: "Segoe UI", sans-serif;
      }

      @keyframes bgMove {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      .result-box {
        background: rgba(255, 255, 255, 0.85);
        backdrop-filter: blur(10px);
        padding: 45px;
        border-radius: 18px;
        margin-top: 80px;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
        box-shadow: 0 12px 34px rgba(0, 0, 0, 0.15);
        animation: fadeIn 0.5s ease;
        border: 1px solid rgba(255, 255, 255, 0.6);
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(12px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      h3 {
        font-weight: 700;
        color: #1b395a;
      }

      .score-number {
        font-size: 55px;
        font-weight: 800;
        color: #2060c9;
        margin: 15px 0;
        animation: zoomIn 0.4s ease;
      }

      @keyframes zoomIn {
        from {
          transform: scale(0.6);
          opacity: 0;
        }
        to {
          transform: scale(1);
          opacity: 1;
        }
      }

      .btn-primary {
        background: linear-gradient(45deg, #2563eb, #1e3a8a);
        border: none;
        padding: 12px 26px;
        font-size: 17px;
        border-radius: 10px;
        font-weight: 600;
        transition: 0.25s;
        box-shadow: 0 8px 25px rgba(37, 99, 235, 0.3);
      }

      .btn-primary:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 30px rgba(37, 99, 235, 0.45);
      }

      .msg {
        font-size: 18px;
        font-weight: 600;
        color: #1b1b1b;
        margin-bottom: 15px;
      }
    </style>
  </head>

  <body>
    <div class="container text-center">
      <div class="result-box">
        <!-- âœ… Updated to use result object -->
        <h3 th:text="'Quiz Result: ' + ${result.quiz.title}"></h3>

        <div
          class="score-number"
          th:text="${result.score} + ' / ' + ${result.totalQuestions}"
        ></div>

        <p
          class="msg"
          th:text="'You scored ' + ${result.score} + ' out of ' + ${result.totalQuestions}"
        ></p>

        <p class="text-muted">
          Submitted on:
          <span
            th:text="${#temporals.format(result.submittedAt, 'dd-MM-yyyy HH:mm')}"
          ></span>
        </p>

        <a th:href="@{/quiz/results}" class="btn btn-primary mt-3"
          >View All Results</a
        >
      </div>
    </div>
  </body>
</html>
